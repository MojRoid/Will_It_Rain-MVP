jacocoAndroidUnitTestReport {
    excludes += ['**/R.class',
                 '**/R$*.class',
                 '**/*$ViewInjector*.*',
                 '**/*$ViewBinder*.*',
                 '**/*_ViewBinding*.*',
                 '**/*Factory*.class',
                 '**/*AutoValue*.class',
                 '**/injection/*.*',
                 '**/model/*.*',
                 '**/*Provider*.class',
                 '**/*App.*',
                 '**/*_MembersInjector.class',
                 '**/BuildConfig.*',
                 '**/Manifest*.*',
                 '**/*Lambda*.*']
}

jacocoAndroidUnitTestReport {
    csv.enabled false
    html.enabled true
    xml.enabled true
}
 // JUnit 5 code coverage reporting in codecov.io not yet working :/
project.afterEvaluate {
    def junitPlatformTestTask = project.tasks.getByName('junitPlatformTestDebug')

    // configure jacoco to analyze the junitPlatformTest task
    jacoco {
        applyTo junitPlatformTestTask
    }

    // create junit platform jacoco task
    project.task(type: JacocoReport, "junitPlatformJacocoReport",
            {
                sourceDirectories = files("./src/main")
                classDirectories = files("$buildDir/classes/main")
                executionData junitPlatformTestTask
            })
}